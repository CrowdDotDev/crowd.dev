components:
  schemas:
    # defines the attributes of an activity, excluding the ID
    ActivityNoId:
      description: An activity performed by a member of your community.
      type: object

      required:
        - type
        - platform
        - timestamp
        - memberId
        - tenantId
        - sourceId

      properties:
        type:
          description: Type of activity
          type: string

        timestamp:
          description: Date and time when the activity took place
          type: string
          format: date-time

        platform:
          description: Platform on which the activity took place
          type: string

        sourceId:
          description: The id of the activity in the platform (e.g. the id of the message in Discord)
          type: string
        score:
          description: Score associated with the activity
          type: number
        isKeyAction:
          description: Whether the activity was a key action
          type: boolean
        parentId:
          description: Id of the parent activity, if the activity has a parent
          type: string
          format: uuid
        crowdInfo:
          description: Attributes of the activity gathered from integrations.
          type: object
          additionalProperties: true
        info:
          description: Attributes of the activity added by the crowd.dev user
          type: object
          additionalProperties: true
        createdAt:
          description: Date the activity was created
          type: string
          format: date-time
        updatedAt:
          description: Date the activity was last updated
          type: string
          format: date-time
        tenantId:
          description: Your workspace/tenant id
          type: string
          format: uuid

      xml:
        name: ActivityNoId

    # defines a complete activity, including the ID
    Activity:
      type: object
      allOf:
        - $ref: '#/components/schemas/ActivityNoId'
      properties:
        id:
          description: The unique identifier for an activity.
        member: 
          description: Member that performed the activity
          $ref: '#/components/schemas/Member'

    # Responses
    ActivityList:
      description: List and count of activities.
      type: object
      properties:
        rows:
          description: List of activities
          type: array
          items:
            $ref: '#/components/schemas/Activity'
        count:
          description: Count
          type: integer
        limit:
          description: Limit of records returned
          type: integer
        offset:
          description: Offset, for pagination
          type: integer
      xml:
        name: ActivitiesList